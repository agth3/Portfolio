<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Portfolio</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="style_mobile.css">
        <!-- <link rel="preload" href="/fonts/myfont.woff2" as="font" type="font/woff2" crossorigin="anonymous"> -->
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    </head>

    <body>
        <div class="container-menu-projets">
                    <a class="a-menu logo-menu" href="index.html"></a>
                    <div class="elements-menu-haut" id="nom-menu"><a class="a-menu" href="index.html">Agathe Cotton</a></div>
                    <div class="elements-menu-haut" id="bio-menu"><a class="a-menu highlight-projet" href="bio.html">Bio</a></div>
                    <div class="elements-menu-haut" id="projet-menu"><a class="a-menu highlight-projet" href="mosaique.html">Projets</a></div>
                    <div class="elements-menu-haut" id="lang-menu">FR / ENG</div>
                    <div class="elements-menu-bas highlight-projet" id="tel-menu">06 89 32 68 76</div>
                    <div class="elements-menu-bas" id="mail-menu">agathe.cotton@gmail.com</div>
                    <div class="elements-menu-bas" id="insta-menu"><a class="a-menu highlight-projet" href="https://www.instagram.com/happy_factoryy/?hl=fr" target="_blank">@happy_factoryy</a></div>

                    <!-- caracteres de fleches : ·ê∏·ê≥·ê±·êØ ÀÇÀÉÀÑÀÖ  ü¢íü¢ëü¢ì  ·êä·êÖ·êÉ·êÅ -->
                    <button class="fleches-sections-projets" id="fleche-gauche-projets">·ê∏</button>
                    <button class="fleches-sections-projets" id="fleche-droite-projets">·ê≥</button>
                    <button class="fleches-sections-projets" id="fleche-haut-projets">·ê±</button>
                    <button class="fleches-sections-projets" id="fleche-bas-projets">·êØ</button>

        </div>

        <div class="container-projets" id="container-projets">   

            <section class="grid-projets" id="projet-OffKey">
                <div class="zone-texte-projets" id="texte-OffKey">
                    <h2 class="titre-projets" id="titre-OffKey">OffKey</h2>
                    <span class="date-projets">2024</span>
                    <span class="description-projets">Identit√© visuelle g√©n√©rative d‚Äôun festival fictif de musique techno bas√©e sur des visuels g√©n√©ratifs programm√©s en p5.js</br>
Esth√©tique glauque, organique et rythmique incarn√©e par le mille-pattes</br>
D√©clinaison sur multiples supports (affiches, r√©seaux sociaux, badges, produits d√©riv√©s...)</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : VS Code - p5.js, Figma, Indesign, Illustrator</span> -->
                    <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
<span class="collab-projets">avec Luca SCHARRENBACH</span></span>
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_7.jpg" alt="Clone Image OffKey 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_1.jpg" alt="Image OffKey 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_2.jpg" alt="Image OffKey 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_3.jpg" alt="Image OffKey 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_4.jpg" alt="Image OffKey 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_5.jpg" alt="Image OffKey 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_6.jpg" alt="Image OffKey 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_7.jpg" alt="Image OffKey 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/offkey_1.jpg" alt="Clone Image OffKey 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Stone-of-Amasha">
                <div class="zone-texte-projets" id="texte-Stone-of-Amasha">
                    <h2 class="titre-projets" id="titre-Stone-of-Amasha">The Stone of Amasha</h2>
                    <span class="date-projets">2024</span>
                    <span class="description-projets">Narration interactive abordant les dynamiques de pouvoir et marginalisations fond√©es sur l'√¢ge √† travers un monde fantastique o√π r√®gnent complots, crise politique et religieuse</br>Storyworld, design de personnages et √©criture de scenario</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s :  ArcWeave, Figma, Indesign, Illustrator, Procreate</span> -->
                    <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br><span class="collab-projets">avec Giuseppe CRITONE, Natalie ILLE, Natali√° KRAJCZ√ÅR, Luca SCHARRENBACH et Marta ZILIOLI</span></span>
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_7.jpg" alt="Clone Image Amasha 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_1.jpg" alt="Image Amasha 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_2.jpg" alt="Image Amasha 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_3.jpg" alt="Image Amasha 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_4.jpg" alt="Image Amasha 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_5.jpg" alt="Image Amasha 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_6.jpg" alt="Image Amasha 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_7.jpg" alt="Image Amasha 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/amasha_1.jpg" alt="Clone Image Amasha 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Brique-Bloc">
                <div class="zone-texte-projets" id="texte-Brique-Bloc">
                    <h2 class="titre-projets" id="titre-Brique-Bloc">Brique Bloc</h2>
                    <span class="date-projets">2022</span>
                    <span class="description-projets">Typographie enfantine inspir√©e des typographies modulaires et des jeux de construction.</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Indesign, Illustrator, Photoshop</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_5.jpg" alt="Clone Image Brique-bloc 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_1.jpg" alt="Image Brique-bloc 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_2.jpg" alt="Image Brique-bloc 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_3.jpg" alt="Image Brique-bloc 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_4.jpg" alt="Image Brique-bloc 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_5.jpg" alt="Image Brique-bloc 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/brique-bloc_1.jpg" alt="Clone Image Brique-bloc 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Affiches-Animees">
                <div class="zone-texte-projets" id="texte-Affiches-Animees">
                    <h2 class="titre-projets" id="titre-Affiches-Animees">Affiches anim√©es</h2>
                    <span class="date-projets">2023</span>
                    <span class="description-projets">Affiches anim√©es sur la th√©matique du piratage informatique, pr√©sent√©es sur les panneaux publicitaires d‚ÄôOrl√©ans dans le cadre d‚Äôun partenariat avec la ville.</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Photoshop, Illustrator, Premiere Pro</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/hack_3.jpg" alt="Clone Image Affiches anim√©es 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/hack_1.jpg" alt="Image Affiches anim√©es 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/hack_2.jpg" alt="Image Affiches anim√©es 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/hack_3.jpg" alt="Image Affiches anim√©es 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/hack_1.jpg" alt="Clone Image Affiches anim√©es 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Vitrine">
                <div class="zone-texte-projets" id="texte-Vitrine">
                    <h2 class="titre-projets" id="titre-Vitrine">La Vitrine</h2>
                    <span class="date-projets">2022</span>
                    <span class="description-projets">Identit√© visuelle d‚Äôune galerie d‚Äôart contemporain fictive <span class="italique">(La Vitrine)</span> bas√©e sur un logo d√©clinable reprenant l‚Äôaspect d‚Äôun projecteur lumineux.</br>
D√©clinaison sur affiches et d√©pliant</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Indesign, Illustrator, Photoshop</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br> 
avec Luca SCHARRENBACH</span>-->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_7.jpg" alt="Clone Image Vitrine 8"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_1.jpg" alt="Image Vitrine 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_2.jpg" alt="Image Vitrine 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_3.jpg" alt="Image Vitrine 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_4.jpg" alt="Image Vitrine 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_5.jpg" alt="Image Vitrine 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_6.jpg" alt="Image Vitrine 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_7.jpg" alt="Image Vitrine 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_8.jpg" alt="Image Vitrine 8"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/vitrine_1.jpg" alt="Clone Image Vitrine 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Oursins">
                <div class="zone-texte-projets" id="texte-Oursins">
                    <h2 class="titre-projets" id="titre-Oursins">Les Oursins</h2>
                    <span class="date-projets">2023</span>
                    <span class="description-projets">Identit√© visuelle d‚Äôun groupe activiste √©cologique fictif <span class="italique">(Les Oursins)</span> luttant contre la pollution plastique dont le symbole est √† l‚Äôimage de leur mode d‚Äôaction non-violent mais irritant</br>D√©clinaison sur affiches, cartes de visite, maquette de site web et produits d√©riv√©s</br>Conception d‚Äôun catalogue satirique vendant la beaut√© des d√©chets plastiques</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Indesign, Illustrator, Photoshop, Lightroom</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_6.jpg" alt="Clone Image Oursins √©dition 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_1.jpg" alt="Image Oursins 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_2.jpg" alt="Image Oursins 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_3.jpg" alt="Image Oursins 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_4.jpg" alt="Image Oursins 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_5.jpg" alt="Image Oursins 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_6.jpg" alt="Image Oursins 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_1.jpg" alt="Image Oursins √©dition 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_2.jpg" alt="Image Oursins √©dition 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_3.jpg" alt="Image Oursins √©dition 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_4.jpg" alt="Image Oursins √©dition 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_5.jpg" alt="Image Oursins √©dition 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins-edition_6.jpg" alt="Image Oursins √©dition 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/oursins_1.jpg" alt="Clone Image Oursins 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>
          
           <section class="grid-projets" id="projet-Cimes">
                <div class="zone-texte-projets" id="texte-Cimes">
                    <h2 class="titre-projets" id="titre-Cimes">Les Cimes</h2>
                    <span class="date-projets">2023</span>
                    <span class="description-projets">Design √©ditorial d‚Äôune maison d‚Äô√©dition fictive sp√©cialis√©e sur les arbres <span class="italique">(Les Cimes)</span>, proposant diverses collections (encyclop√©die des arbres, litt√©rature sur les arbres, herbiers et guides techniques sur le bois)</br>Conception d‚Äôune collection de guides de randonn√©e th√©matique <span class="italique">(Les Sentiers de l‚ÄôArbre)</span> proposant des sentiers d'observation d‚Äôessences locales et mise en page d‚Äôune √©dition sur le ch√™ne p√©doncul√© en r√©gion Centre-Val de Loire</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Indesign, Photoshop, Lightroom</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_7.jpg" alt="Clone Image Cimes 9"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_1.jpg" alt="Image Cimes 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_2.jpg" alt="Image Cimes 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_3.jpg" alt="Image Cimes 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_4.jpg" alt="Image Cimes 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_5.jpg" alt="Image Cimes 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_6.jpg" alt="Image Cimes 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_7.jpg" alt="Image Cimes 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_8.jpg" alt="Image Cimes 8"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_9.jpg" alt="Image Cimes 9"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/cimes_1.jpg" alt="Clone Image Cimes 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

             <section class="grid-projets" id="projet-Kaleidoscope">
                <div class="zone-texte-projets" id="texte-Kaleidoscope">
                    <h2 class="titre-projets" id="titre-Kaleidoscope">Kal√©idoscope musical</h2>
                    <span class="date-projets">2022</span>
                    <span class="description-projets">Photomontage de l‚ÄôOrchestre Symphonique d‚ÄôOrl√©ans r√©alis√© √† l‚Äôoccasion de son centenaire et expos√© au th√©√¢tre d‚ÄôOrl√©ans.</br>R√©p√©tition de fragments photographiques cr√©ant un chaos organis√© rappelant les mouvements de la musique</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Photoshop, Lightroom</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope-zoom_4.jpg" alt="Clone Image Kal√©idoscope musical zoom 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_1.jpg" alt="Image Kal√©idoscope musical 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_2.jpg" alt="Image Kal√©idoscope musical 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_3.jpg" alt="Image Kal√©idoscope musical 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_4.jpg" alt="Image Kal√©idoscope musical 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_5.jpg" alt="Image Kal√©idoscope musical 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_6.jpg" alt="Image Kal√©idoscope musical 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope-zoom_1.jpg" alt="Image Kal√©idoscope musical zoom 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope-zoom_2.jpg" alt="Image Kal√©idoscope musical zoom 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope-zoom_3.jpg" alt="Image Kal√©idoscope musical zoom 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope-zoom_4.jpg" alt="Image Kal√©idoscope musical zoom 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/kaleidoscope_1.jpg" alt="Clone Image Kal√©idoscope musical 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

             <section class="grid-projets" id="projet-HAL9000">
                <div class="zone-texte-projets" id="texte-HAL9000">
                    <h2 class="titre-projets" id="titre-HAL9000">HAL9000/ES</h2>
                    <span class="date-projets">2024</span>
                    <span class="description-projets">Jeu vid√©o th√©matique sur les intelligences artificielles questionnant leur capacit√© de reconnaissance et de compr√©hension des √©motions humaines au travers de l‚ÄôIA HAL9000 du film <span class="italique">2001¬†: l‚ÄôOdyss√©e de l‚Äôespace</span> (Stanley Kubrick, 1968)</br>Walking simulator immersif explorant le syst√®me √©motionnel de HAL, o√π chaque pi√®ce incarne une √©motion simul√©e par l‚ÄôIA du film (fiert√©, doute, d√©dain et peur)</br>Textures visuelles g√©n√©r√©es par IA (DALL-E 2), mod√©lisation 3D des pi√®ces, design sonore et programmation des interactions et des m√©caniques de jeu, d√©clinaison des visuels sur affiches, d√©pliant et carte grav√©e</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Unity, Blender, DALL-E 2, ChatGPT, Premiere Pro, Indesign, Illustrator, Photoshop</span> -->
                    <span class="contexte-projets">Projet r√©alis√© au sein du programme de recherche √âdition M√©dia Design de l‚ÄôESAD Orl√©ans</br><span class="collab-projets">avec Matis ARVIEU, Lisa AL√âGOT, Seona LIM, Vaiana Massonaud, Monika ≈†KODOV√Å, Jade ROCHER</span></span>
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_5.jpg" alt="Clone Image HAL900/ES 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_1.jpg" alt="Image HAL900/ES 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_2.jpg" alt="Image HAL900/ES 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_3.jpg" alt="Image HAL900/ES 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_4.jpg" alt="Image HAL900/ES 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_5.jpg" alt="Image HAL900/ES 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/HAL9000_1.jpg" alt="Clone Image HAL900/ES 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

              <section class="grid-projets" id="projet-Entre-et-tenir-pt1">
                <div class="zone-texte-projets" id="texte-Entre-et-tenir-pt1">
                    <h2 class="titre-projets" id="titre-Entre-et-tenir-pt1">Entre et tenir - Partie. 1</h2>
                    <span class="date-projets">2025</span>
                    <span class="description-projets">Projet plastique du DNSEP constitu√© d'un ensemble vari√© multim√©dia de dispositifs cherchant √† repenser le rapport de l'Homme √† la nature. Il vise √† trouver les moyens plastique pour repr√©senter l‚Äôinterconnexion globale des vivants en mobilisant l'√©dition et l‚Äôinstallation comme des espaces d‚Äôexp√©rimentation de cet √©cosyst√®me.</span>
                    <div class="sous-titre-projets">S√©rie d‚Äô√©ditions</div>
                    <span class="sous-description-projets">Variation d'√©ditions papier explorant le motif du r√©seau et des racines</span>
                    <div class="sous-titre-projets">Installation immersive en papier</div>
                    <span class="sous-description-projets">Installation √† partir de frottages en grand format de racines, cr√©ant un espace de d√©couverte et d‚Äôimmersion au sein du r√©seau</span>
                    <div class="sous-titre-projets">Tissages de photographies</div>
                    <span class="sous-description-projets">Exploration du tissage de photographie comme repr√©sentation symbolique de la connexion</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Indesign, Illustrator, Photoshop, Lightroom</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_7.jpg" alt="Clone Image Entre et tenir pt.1 8"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_1.jpg" alt="Image Entre et tenir pt.1 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_2.jpg" alt="Image Entre et tenir pt.1 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_3.jpg" alt="Image Entre et tenir pt.1 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_4.jpg" alt="Image Entre et tenir pt.1 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_5.jpg" alt="Image Entre et tenir pt.1 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_6.jpg" alt="Image Entre et tenir pt.1 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_7.jpg" alt="Image Entre et tenir pt.1 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_8.jpg" alt="Image Entre et tenir pt.1 8"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir_1.jpg" alt="Clone Image Entre et tenir pt.1 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

                         <section class="grid-projets" id="projet-Entre-et-tenir-pt2">
                <div class="zone-texte-projets" id="texte-Entre-et-tenir-pt2">
                    <h2 class="titre-projets" id="titre-Entre-et-tenir-pt2">Entre et tenir - Partie 2</h2>
                    <span class="date-projets">2025</span>
                    <span class="description-projets">Projet plastique du DNSEP constitu√© d'un ensemble vari√© multim√©dia de dispositifs cherchant √† repenser le rapport de l'Homme √† la nature. Il vise √† trouver les moyens plastique pour repr√©senter l‚Äôinterconnexion globale des vivants en mobilisant l'√©dition et l‚Äôinstallation comme des espaces d‚Äôexp√©rimentation de cet √©cosyst√®me.</span>
                    <div class="sous-titre-projets">Installation en r√©alit√© augment√©e</div>
                    <span class="sous-description-projets">Reconstitution en AR de connexions racinaires entre des souches pour illustrer dynamiquement les ph√©nom√®nes de diffusion et communication au sein des r√©seaux racinaires afin de conscientiser la richesse et la vari√©t√© de ces transmissions.</br>Installation accompagn√©e d‚Äôun montage vid√©o contemplatif d√©voilant les reconstitutions 3D des souches, obtenues par photogramm√©trie.</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Unity, Blender, Polycam et Premiere Pro</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir-2_2.jpg" alt="Clone Image Entre et tenir pt.2 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir-2_1.jpg" alt="Image Entre et tenir pt.2 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir-2_2.jpg" alt="Image Entre et tenir pt.2 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/entre-et-tenir-2_1.jpg" alt="Clone Image Entre et tenir pt.2 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

                         <!-- <section class="grid-projets" id="projet-Entre-et-tenir-pt3">
                <div class="zone-texte-projets" id="texte-Entre-et-tenir-pt3">
                    <h2 class="titre-projets" id="titre-Entre-et-tenir-pt3">Entre et tenir - Pt. 3</h2>
                    <span class="date-projets">2024</span>
                    <span class="description-projets">Animation en r√©alit√© augment√©e proposant une deuxi√®me lecture du <span class="italique">Portrait du peintre Gabriel Deschamps</span>, profil sculpt√© en bronze par Auguste Pr√©rault (1809-1879) pr√©sent au Mus√©e des Beaux-Arts d‚ÄôOrl√©ans</br>Ce projet aborde l‚Äôopposition nature/culture en transformant la chevelure et la barbe du profil en √©l√©ments v√©g√©taux se d√©ployant dans l‚Äôespace mus√©al</span>
                    <span class="outil-projets">Outils mobilis√©s : Unity et Blender</span>
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                <!-- </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/Insta_Post-Feed.png" alt="Clone Image 1.6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/20231005_154014.png" alt="Image 1.1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/Posterwall.png" alt="Image 1.2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/Insta_Post-Feed.png" alt="Image 1.3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/20231005_154014.png" alt="Image 1.4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/Posterwall.png" alt="Image 1.5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/Insta_Post-Feed.png" alt="Image 1.6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/20231005_154014.png" alt="Clone Image 1.1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div> -->
                    <!-- <div class="scroll-indicator"></div> -->
                  <!-- </div>
                </div>
            </section> -->

             <section class="grid-projets" id="projet-Memoire">
                <div class="zone-texte-projets" id="texte-Memoire">
                    <h2 class="titre-projets" id="titre-Memoire">Conversations souterraines : communication entre vivants humains et non-humains</h2>
                    <span class="date-projets">2025</span>
                    <span class="description-projets">M√©moire de DNSEP interrogeant l‚Äô√©mergence d‚Äôun rapport sensible de l‚Äôhomme aÃÄ l‚Äôarbre √† travers une repr√©sentation multidimensionnelle et dynamique des r√©seaux racinaires, r√©v√©lant l'arbre comme une entit√© intelligente et communicante.</br>Exploration de la page web comme support d‚Äô√©dition, mettant en pratique la question des r√©seaux.</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : VS Code, GitHub, Indesign</span> -->
                    <span class="contexte-projets">M√©moire √† retrouver <a class="liens-externes" href="https://agth3.github.io/Portfolio/" target="_blank">ici</a></span>
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_7.jpg" alt="Clone Image M√©moire 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_1.jpg" alt="Image M√©moire 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_2.jpg" alt="Image M√©moire 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_3.jpg" alt="Image M√©moire 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_4.jpg" alt="Image M√©moire 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_5.jpg" alt="Image M√©moire 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_6.jpg" alt="Image M√©moire 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_7.jpg" alt="Image M√©moire 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/memoire_1.jpg" alt="Clone Image M√©moire 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

             <section class="grid-projets" id="projet-Phytomorphose">
                <div class="zone-texte-projets" id="texte-Phytomorphose">
                    <h2 class="titre-projets" id="titre-Phytomorphose">Phytomorphose</h2>
                    <span class="date-projets">2024</span>
                    <span class="description-projets">Animation en r√©alit√© augment√©e proposant une deuxi√®me lecture du <span class="italique">Portrait du peintre Gabriel Deschamps</span>, profil sculpt√© en bronze par Auguste Pr√©rault (1809-1879) pr√©sent au Mus√©e des Beaux-Arts d‚ÄôOrl√©ans</br>Ce projet aborde l‚Äôopposition nature/culture en transformant la chevelure et la barbe du profil en √©l√©ments v√©g√©taux se d√©ployant dans l‚Äôespace mus√©al</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Unity et Blender</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_6.jpg" alt="Clone Image Phytomorphose 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_1.jpg" alt="Image Phytomorphose 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_2.jpg" alt="Image Phytomorphose 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_3.jpg" alt="Image Phytomorphose 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_4.jpg" alt="Image Phytomorphose 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_5.jpg" alt="Image Phytomorphose 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_6.jpg" alt="Image Phytomorphose 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/phytom_1.jpg" alt="Clone Image Phytomorphose 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Just-Click">
                <div class="zone-texte-projets" id="texte-Just-Click">
                    <h2 class="titre-projets" id="titre-Just-Click">You Just Have To click</h2>
                    <span class="date-projets">2022</span>
                    <span class="description-projets">Webdesign exp√©rimental d'un site web inutile testant la patience de l‚Äôutilisateur pour interroger la valeur que ce dernier accorde √† son propre temps.</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Unity et Blender</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/just-click_4.jpg" alt="Clone Image Just-Click 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/just-click_1.jpg" alt="Image Just-Click 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/just-click_2.jpg" alt="Image Just-Click 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/just-click_3.jpg" alt="Image Just-Click 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/just-click_4.jpg" alt="Image Just-Click 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/just-click_1.jpg" alt="Clone Image Just-Click 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>

            <section class="grid-projets" id="projet-Catalogue-bouees">
                <div class="zone-texte-projets" id="texte-Catalogue-bouees">
                    <h2 class="titre-projets" id="titre-Catalogue-bouees">Catalogue de bou√©es</h2>
                    <span class="date-projets">2022</span>
                    <span class="description-projets">Catalogue satirique de bou√©es gonflables interrogeant la surconsommation au travers de l‚Äôesth√©tique excentrique du kitsch.</span>
                    <!-- <span class="outil-projets">Outils mobilis√©s : Unity et Blender</span> -->
                    <!-- <span class="contexte-projets">Projet r√©alis√© lors d‚Äôun semestre erasmus √†¬†Politecnico di Milano</br>
avec Luca SCHARRENBACH</span> -->
                </div>
                <div class="section-slide">
                  <div class="carrousel-container">
                    <div class="scroll-capture"></div>
                    <div class="carrousel-track">
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_7.jpg" alt="Clone Image Catalogue de bou√©es 9"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_1.jpg" alt="Image Catalogue de bou√©es 1"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_2.jpg" alt="Image Catalogue de bou√©es 2"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_3.jpg" alt="Image Catalogue de bou√©es 3"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_4.jpg" alt="Image Catalogue de bou√©es 4"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_5.jpg" alt="Image Catalogue de bou√©es 5"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_6.jpg" alt="Image Catalogue de bou√©es 6"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_7.jpg" alt="Image Catalogue de bou√©es 7"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_8.jpg" alt="Image Catalogue de bou√©es 8"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_9.jpg" alt="Image Catalogue de bou√©es 9"></div>
                      <div class="carrousel-slide"><img src="asset/img/low/catalogue-bouees_1.jpg" alt="Clone Image Catalogue de bou√©es 1"></div>
                    </div>
                    <div class="previous-frame"></div>
                    <div class="focus-frame"></div>
                    <div class="next-frame"></div>
                    <!-- <div class="scroll-indicator"></div> -->
                  </div>
                </div>
            </section>
        </div>

    </body>

<script>

//    GESTION DES SLIDES AVEC FLECHES ET CLAVIER
const container = document.getElementById("container-projets");
const btnLeft = document.getElementById("fleche-gauche-projets");
const btnRight = document.getElementById("fleche-droite-projets");
const btnUp = document.getElementById("fleche-haut-projets");
const btnDown = document.getElementById("fleche-bas-projets");
const sections = document.querySelectorAll(".grid-projets");

const sectionWidth = window.innerWidth;
let currentIndex = 0;
let isMobile = window.innerWidth <= 1024;

// FONCTION DE DEBUG - √Ä RETIRER PLUS TARD
// function debugScroll() {
//   console.log(`Current state:
//     isMobile: ${isMobile}
//     currentIndex: ${currentIndex}
//     container scrollTop: ${container.scrollTop}
//     container scrollLeft: ${container.scrollLeft}
//     window height: ${window.innerHeight}
//     window width: ${window.innerWidth}
//     sections length: ${sections.length}`);
// }

function updateButtons() {
  if (isMobile) {
    // Mobile : navigation verticale des sections
    btnUp.disabled = currentIndex === 0;
    btnDown.disabled = currentIndex === sections.length - 1;
    btnLeft.disabled = true;
    btnRight.disabled = true;
  } else {
    // Desktop : navigation horizontale des sections
    btnLeft.disabled = currentIndex === 0;
    btnRight.disabled = currentIndex === sections.length - 1;
    btnUp.disabled = true;
    btnDown.disabled = true;
  }
}

function scrollToIndex(index) {
  // console.log(`ScrollToIndex called: index=${index}, isMobile=${isMobile}, currentIndex=${currentIndex}`);
  
  if (isMobile) {
    // Mobile : scroll vertical
    const scrollY = index * window.innerHeight;
    // console.log(`Mobile scroll to Y: ${scrollY}`);
    container.scrollTo({ 
      top: scrollY, 
      behavior: "smooth" 
    });
  } else {
    // Desktop : scroll horizontal
    const scrollX = index * sectionWidth;
    // console.log(`Desktop scroll to X: ${scrollX}`);
    container.scrollTo({ 
      left: scrollX, 
      behavior: "smooth" 
    });
  }
  
  currentIndex = index;
  updateButtons();
}

// Fonction utilitaire pour les √©v√©nements tactiles
function addTouchSupport(element, callback) {
  // Support tactile
  element.addEventListener('touchstart', (e) => {
    e.preventDefault();
    callback();
  }, { passive: false });
  
  // Support souris (pour dev)
  element.addEventListener('click', callback);
}

// Remplacer les addEventListener existants par :
addTouchSupport(btnLeft, () => {
  if (!isMobile && currentIndex > 0) {
    scrollToIndex(currentIndex - 1);
  }
});

addTouchSupport(btnRight, () => {
  if (!isMobile && currentIndex < sections.length - 1) {
    scrollToIndex(currentIndex + 1);
  }
});

addTouchSupport(btnUp, () => {
  if (isMobile && currentIndex > 0) {
    scrollToIndex(currentIndex - 1);
  }
});

addTouchSupport(btnDown, () => {
  if (isMobile && currentIndex < sections.length - 1) {
    scrollToIndex(currentIndex + 1);
  }
});

// Support des touches fl√©ch√©es du clavier
document.addEventListener("keydown", (event) => {
  // V√©rifier si aucun champ de saisie n'est actif
  const activeElement = document.activeElement;
  const isInputFocused = activeElement && (
    activeElement.tagName === 'INPUT' || 
    activeElement.tagName === 'TEXTAREA' || 
    activeElement.contentEditable === 'true'
  );
  
  // Ne pas intercepter les touches si un champ de saisie est actif
  if (isInputFocused) return;
  
  if (isMobile) {
    // Mobile : seules les fl√®ches haut/bas pour les sections
    if (event.key === "ArrowUp" && currentIndex > 0) {
      event.preventDefault();
      scrollToIndex(currentIndex - 1);
    } else if (event.key === "ArrowDown" && currentIndex < sections.length - 1) {
      event.preventDefault();
      scrollToIndex(currentIndex + 1);
    }
  } else {
    // Desktop : fl√®ches gauche/droite pour les sections
    if (event.key === "ArrowLeft" && currentIndex > 0) {
      event.preventDefault();
      scrollToIndex(currentIndex - 1);
    } else if (event.key === "ArrowRight" && currentIndex < sections.length - 1) {
      event.preventDefault();
      scrollToIndex(currentIndex + 1);
    } else if (event.key === "ArrowUp" && currentIndex > 0) {
      event.preventDefault();
      scrollToIndex(currentIndex - 1);
    } else if (event.key === "ArrowDown" && currentIndex < sections.length - 1) {
      event.preventDefault();
      scrollToIndex(currentIndex + 1);
    }
  }
});

// Auto-calcule la section visible au scroll manuel
container.addEventListener("scroll", () => {
  let newIndex;
  if (isMobile) {
    newIndex = Math.round(container.scrollTop / window.innerHeight);
    // console.log(`Mobile scroll detected: scrollTop=${container.scrollTop}, newIndex=${newIndex}`);
  } else {
    newIndex = Math.round(container.scrollLeft / sectionWidth);
    // console.log(`Desktop scroll detected: scrollLeft=${container.scrollLeft}, newIndex=${newIndex}`);
  }
  
  if (newIndex !== currentIndex && newIndex >= 0 && newIndex < sections.length) {
    currentIndex = newIndex;
    updateButtons();
  }
});

window.addEventListener("resize", () => {
  const newIsMobile = window.innerWidth <= 1024;
  if (newIsMobile !== isMobile) {
    isMobile = newIsMobile;  // Mettre √† jour la variable
    updateButtons();  // Recalculer les boutons actifs
  }
  
  // Valider et ajuster les dimensions des carrousels
  document.querySelectorAll('.carrousel-track').forEach(track => {
    const carousel = track.carousel;
    if (carousel) carousel.validateDimensions();
  });
  
  scrollToIndex(currentIndex);
});

// Initialisation
updateButtons();




//    ADAPTATION DES TEINTES DE HIGHLIGHT PAR SECTION AFFICHEE

// Associe chaque ID de section √† une couleur
const sectionColors = {
"projet-OffKey": "#cc003a", // rouge, "#aedfb3" cyan, "daff1c" citron
"projet-Stone-of-Amasha": "#ab8b69",  // sable, "#6d5452" violet chaud, "#a07a58" sable sombre, "#b69973" sable clair
"projet-Brique-Bloc": "#f9b32d", //jaune, "#005596" bleu, "#e94d1c"rouge
"projet-Affiches-Animees": "#f9d738", // orange, "#b1dac8" cyan,
"projet-Vitrine": "#939997", //gris clair, "#3b3b39" gris fonc√©, "#938c82" gris sable
"projet-Oursins": "#004d76", //turquoise sombre, "#e00c1a" rouge, "#4b4b4e" gris chaud
"projet-Cimes": "#67792c",  //vert, "#4a582f" kaki terne, "#2a3725" vert sombre, "#42452c" kaki sombre
"projet-Kaleidoscope": "#41150a", //brun rouge, "#764218" brun dor√©, "#53110f" bordeau sombre
"projet-HAL9000": "#4f428a",  // violet, "#320d96" violet sombre, "#6328d0" violet p√©tard, "#f73d56" fuscia, "#d748e2" rose p√©tard, "#01c6e9" bleu p√©tard
"projet-Entre-et-tenir-pt1": "#575f30",  //vert terne, "#524f29" kaki, "#576051" turquoise sombre, "#83b8e4" bleu clair, "#cba689" rose sabl√©
"projet-Entre-et-tenir-pt2": "#464646", //blender, "#3a2c22" marron sombre, "#4f3c2b" marron, "#79634f" marron clair, "#6c635b" gris
"projet-Memoire": "#ffb47e", // orange, "#d8b1ed" lavande, "#faadde" rose, "#004b81" bleu, "#274e12" vert
"projet-Phytomorphose": "#606062",  // gris violet, "#7fa1a3"turquoise, "#514b45" gris chaud sombre, "#7c7066" gris chaud clair, "#a4947b" sable
"projet-Just-Click": "#ef3407", //rouge, "#06a7ef" bleu, "#63503f" marron, "ffe4c9" beige
"projet-Catalogue-bouees": "#d0b03f", //jaune, "#272763" bleu, "#b71d1b"rouge
};


// Fonction appel√©e √† chaque changement de visibilit√©
function handleIntersection(entries) {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const sectionId = entry.target.id;
      const color = sectionColors[sectionId];

      if (color) {
        document.documentElement.style.setProperty('--highlight-color', color);
      }
    }
  });
}

// Cr√©e l'observer
const observer = new IntersectionObserver(handleIntersection, {
  root: document.querySelector('#container-projets'), // scrolling container
  rootMargin: '0px',
  threshold: 0.6, // 60% visible dans le viewport
});

// Observe chaque section
sections.forEach(section => observer.observe(section));


//    CARROUSEL INFINI DES IMG
const highResMapping = {
  'asset/img/low/Insta_Post-Feed.png': 'asset/img/high/Insta_Post-Feed.png',
  'asset/img/low/20231005_154014.png': 'asset/img/high/20231005_154014.jpg',
  'asset/img/low/Posterwall.png': 'asset/img/high/Posterwall.jpg',

  'asset/img/low/amasha_1.jpg': 'asset/img/high/amasha_1.jpg',
  'asset/img/low/amasha_2.jpg': 'asset/img/high/amasha_2.jpg',
  'asset/img/low/amasha_3.jpg': 'asset/img/high/amasha_3.jpg',
  'asset/img/low/amasha_4.jpg': 'asset/img/high/amasha_4.jpg',
  'asset/img/low/amasha_5.jpg': 'asset/img/high/amasha_5.jpg',
  'asset/img/low/amasha_6.jpg': 'asset/img/high/amasha_6.jpg',
  'asset/img/low/amasha_7.jpg': 'asset/img/high/amasha_7.jpg',
  'asset/img/low/amasha_8.jpg': 'asset/img/high/amasha_8.jpg',
  'asset/img/low/amasha_9.jpg': 'asset/img/high/amasha_9.jpg',

  'asset/img/low/brique-bloc_1.jpg': 'asset/img/high/brique-bloc_1.jpg',
  'asset/img/low/brique-bloc_2.jpg': 'asset/img/high/brique-bloc_2.jpg',
  'asset/img/low/brique-bloc_3.jpg': 'asset/img/high/brique-bloc_3.jpg',
  'asset/img/low/brique-bloc_4.jpg': 'asset/img/high/brique-bloc_4.jpg',
  'asset/img/low/brique-bloc_5.jpg': 'asset/img/high/brique-bloc_5.jpg',

  'asset/img/low/catalogue-bouees_1.jpg': 'asset/img/high/catalogue-bouees_1.jpg',
  'asset/img/low/catalogue-bouees_2.jpg': 'asset/img/high/catalogue-bouees_2.jpg',
  'asset/img/low/catalogue-bouees_3.jpg': 'asset/img/high/catalogue-bouees_3.jpg',
  'asset/img/low/catalogue-bouees_4.jpg': 'asset/img/high/catalogue-bouees_4.jpg',
  'asset/img/low/catalogue-bouees_5.jpg': 'asset/img/high/catalogue-bouees_5.jpg',
  'asset/img/low/catalogue-bouees_6.jpg': 'asset/img/high/catalogue-bouees_6.jpg',
  'asset/img/low/catalogue-bouees_7.jpg': 'asset/img/high/catalogue-bouees_7.jpg',
  'asset/img/low/catalogue-bouees_8.jpg': 'asset/img/high/catalogue-bouees_8.jpg',
  'asset/img/low/catalogue-bouees_9.jpg': 'asset/img/high/catalogue-bouees_9.jpg',

  'asset/img/low/cimes_1.jpg': 'asset/img/high/cimes_1.jpg',
  'asset/img/low/cimes_2.jpg': 'asset/img/high/cimes_2.jpg',
  'asset/img/low/cimes_3.jpg': 'asset/img/high/cimes_3.jpg',
  'asset/img/low/cimes_4.jpg': 'asset/img/high/cimes_4.jpg',
  'asset/img/low/cimes_5.jpg': 'asset/img/high/cimes_5.jpg',
  'asset/img/low/cimes_6.jpg': 'asset/img/high/cimes_6.jpg',
  'asset/img/low/cimes_7.jpg': 'asset/img/high/cimes_7.jpg',
  'asset/img/low/cimes_8.jpg': 'asset/img/high/cimes_8.jpg',
  'asset/img/low/cimes_9.jpg': 'asset/img/high/cimes_9.jpg',

  'asset/img/low/entre-et-tenir_1.jpg': 'asset/img/high/entre-et-tenir_1.jpg',
  'asset/img/low/entre-et-tenir_2.jpg': 'asset/img/high/entre-et-tenir_2.jpg',
  'asset/img/low/entre-et-tenir_3.jpg': 'asset/img/high/entre-et-tenir_3.jpg',
  'asset/img/low/entre-et-tenir_4.jpg': 'asset/img/high/entre-et-tenir_4.jpg',
  'asset/img/low/entre-et-tenir_5.jpg': 'asset/img/high/entre-et-tenir_5.jpg',
  'asset/img/low/entre-et-tenir_6.jpg': 'asset/img/high/entre-et-tenir_6.jpg',
  'asset/img/low/entre-et-tenir_7.jpg': 'asset/img/high/entre-et-tenir_7.jpg',
  'asset/img/low/entre-et-tenir_8.jpg': 'asset/img/high/entre-et-tenir_8.jpg',

  'asset/img/low/entre-et-tenir-2_1.jpg': 'asset/img/high/entre-et-tenir-2_1.jpg',
  'asset/img/low/entre-et-tenir-2_2.jpg': 'asset/img/high/entre-et-tenir-2_2.jpg',

  'asset/img/low/hack_1.jpg': 'asset/img/high/hack_1.jpg',
  'asset/img/low/hack_2.jpg': 'asset/img/high/hack_2.jpg',
  'asset/img/low/hack_3.jpg': 'asset/img/high/hack_3.jpg',

  'asset/img/low/HAL9000_1.jpg': 'asset/img/high/HAL9000_1.jpg',
  'asset/img/low/HAL9000_2.jpg': 'asset/img/high/HAL9000_2.jpg',
  'asset/img/low/HAL9000_3.jpg': 'asset/img/high/HAL9000_3.jpg',
  'asset/img/low/HAL9000_4.jpg': 'asset/img/high/HAL9000_4.jpg',
  'asset/img/low/HAL9000_5.jpg': 'asset/img/high/HAL9000_5.jpg',

  'asset/img/low/just-click_1.jpg': 'asset/img/high/just-click_1.jpg',
  'asset/img/low/just-click_2.jpg': 'asset/img/high/just-click_2.jpg',
  'asset/img/low/just-click_3.jpg': 'asset/img/high/just-click_3.jpg',
  'asset/img/low/just-click_4.jpg': 'asset/img/high/just-click_4.jpg',

  'asset/img/low/kaleidoscope_1.jpg': 'asset/img/high/kaleidoscope_1.jpg',
  'asset/img/low/kaleidoscope_2.jpg': 'asset/img/high/kaleidoscope_2.jpg',
  'asset/img/low/kaleidoscope_3.jpg': 'asset/img/high/kaleidoscope_3.jpg',
  'asset/img/low/kaleidoscope_4.jpg': 'asset/img/high/kaleidoscope_4.jpg',
  'asset/img/low/kaleidoscope_5.jpg': 'asset/img/high/kaleidoscope_5.jpg',
  'asset/img/low/kaleidoscope_6.jpg': 'asset/img/high/kaleidoscope_6.jpg',
  'asset/img/low/kaleidoscope-zoom_1.jpg': 'asset/img/high/kaleidoscope-zoom_1.jpg',
  'asset/img/low/kaleidoscope-zoom_2.jpg': 'asset/img/high/kaleidoscope-zoom_2.jpg',
  'asset/img/low/kaleidoscope-zoom_3.jpg': 'asset/img/high/kaleidoscope-zoom_3.jpg',
  'asset/img/low/kaleidoscope-zoom_4.jpg': 'asset/img/high/kaleidoscope-zoom_4.jpg',

  'asset/img/low/memoire_1.jpg': 'asset/img/high/memoire_1.jpg',
  'asset/img/low/memoire_2.jpg': 'asset/img/high/memoire_2.jpg',
  'asset/img/low/memoire_3.jpg': 'asset/img/high/memoire_3.jpg',
  'asset/img/low/memoire_4.jpg': 'asset/img/high/memoire_4.jpg',
  'asset/img/low/memoire_5.jpg': 'asset/img/high/memoire_5.jpg',
  'asset/img/low/memoire_6.jpg': 'asset/img/high/memoire_6.jpg',
  'asset/img/low/memoire_7.jpg': 'asset/img/high/memoire_7.jpg',

  'asset/img/low/offkey_1.jpg': 'asset/img/high/offkey_1.jpg',
  'asset/img/low/offkey_2.jpg': 'asset/img/high/offkey_2.jpg',
  'asset/img/low/offkey_3.jpg': 'asset/img/high/offkey_3.jpg',
  'asset/img/low/offkey_4.jpg': 'asset/img/high/offkey_4.jpg',
  'asset/img/low/offkey_5.jpg': 'asset/img/high/offkey_5.jpg',
  'asset/img/low/offkey_6.jpg': 'asset/img/high/offkey_6.jpg',
  'asset/img/low/offkey_7.jpg': 'asset/img/high/offkey_7.jpg',
  'asset/img/low/offkey_8.jpg': 'asset/img/high/offkey_8.jpg',
  'asset/img/low/offkey_9.jpg': 'asset/img/high/offkey_9.jpg',

  'asset/img/low/oursins_1.jpg': 'asset/img/high/oursins_1.jpg',
  'asset/img/low/oursins_2.jpg': 'asset/img/high/oursins_2.jpg',
  'asset/img/low/oursins_3.jpg': 'asset/img/high/oursins_3.jpg',
  'asset/img/low/oursins_4.jpg': 'asset/img/high/oursins_4.jpg',
  'asset/img/low/oursins_5.jpg': 'asset/img/high/oursins_5.jpg',
  'asset/img/low/oursins_6.jpg': 'asset/img/high/oursins_6.jpg',
  'asset/img/low/oursins-edition_1.jpg': 'asset/img/high/oursins-edition_1.jpg',
  'asset/img/low/oursins-edition_2.jpg': 'asset/img/high/oursins-edition_2.jpg',
  'asset/img/low/oursins-edition_3.jpg': 'asset/img/high/oursins-edition_3.jpg',
  'asset/img/low/oursins-edition_4.jpg': 'asset/img/high/oursins-edition_4.jpg',
  'asset/img/low/oursins-edition_5.jpg': 'asset/img/high/oursins-edition_5.jpg',
  'asset/img/low/oursins-edition_6.jpg': 'asset/img/high/oursins-edition_6.jpg',

  'asset/img/low/phytom_1.jpg': 'asset/img/high/phytom_1.jpg',
  'asset/img/low/phytom_2.jpg': 'asset/img/high/phytom_2.jpg',
  'asset/img/low/phytom_3.jpg': 'asset/img/high/phytom_3.jpg',
  'asset/img/low/phytom_4.jpg': 'asset/img/high/phytom_4.jpg',
  'asset/img/low/phytom_5.jpg': 'asset/img/high/phytom_5.jpg',
  'asset/img/low/phytom_6.jpg': 'asset/img/high/phytom_6.jpg',

  'asset/img/low/tissage_1.jpg': 'asset/img/high/tissage_1.jpg',
  'asset/img/low/tissage_2.jpg': 'asset/img/high/tissage_2.jpg',
  'asset/img/low/tissage_3.jpg': 'asset/img/high/tissage_3.jpg',
  'asset/img/low/tissage_4.jpg': 'asset/img/high/tissage_4.jpg',

  'asset/img/low/vitrine_1.jpg': 'asset/img/high/vitrine_1.jpg',
  'asset/img/low/vitrine_2.jpg': 'asset/img/high/vitrine_2.jpg',
  'asset/img/low/vitrine_3.jpg': 'asset/img/high/vitrine_3.jpg',
  'asset/img/low/vitrine_4.jpg': 'asset/img/high/vitrine_4.jpg',
  'asset/img/low/vitrine_5.jpg': 'asset/img/high/vitrine_5.jpg',
  'asset/img/low/vitrine_6.jpg': 'asset/img/high/vitrine_6.jpg',
  'asset/img/low/vitrine_7.jpg': 'asset/img/high/vitrine_7.jpg',
  'asset/img/low/vitrine_8.jpg': 'asset/img/high/vitrine_8.jpg',

};

function getHighResVersion(lowResSrc) {
  return highResMapping[lowResSrc] || lowResSrc;
}

class VerticalCarousel {
  constructor(trackElement) {
    this.track = trackElement;
    this.slides = Array.from(trackElement.querySelectorAll('.carrousel-slide'));
    this.isMobile = window.innerWidth <= 1024;
    
    // V√©rification de la structure
    // console.log(`Carousel init: total slides=${this.slides.length}, isMobile=${this.isMobile}`);
    
    // Seuils adaptatifs selon le device
    this.scrollThreshold = this.isMobile ? 20 : 30; // Plus sensible sur mobile
    this.maxScrollDistance = this.isMobile ? 4 : 3; // Plus de distance possible sur mobile

    // Adaptation mobile/desktop
    if (this.isMobile) {
      this.slideWidth = window.innerWidth - 2 * (window.innerWidth * 0.095); // Mobile: largeur - marges
      this.slideHeight = null; // Non utilis√© en mobile
    } else {
      this.slideHeight = window.innerHeight - 2 * this.getVh(16.667); // Desktop: hauteur - marges
      this.slideWidth = null; // Non utilis√© en desktop
    }
    
    this.originalSlideCount = this.slides.length - 2; // Les 2 clones
  this.totalSlides = this.slides.length;
  
  // console.log(`Slides count: original=${this.originalSlideCount}, total=${this.totalSlides}`);
 
    this.currentIndex = 2;
    this.isScrolling = false;
    this.scrollThreshold = 30;
    this.scrollAccumulator = 0;
    this.maxScrollDistance = 3;
    this.preloadedImages = new Map();

    this.initWithRealFirstImage();
    this.bindEvents();
    this.updateImageQuality();
  }

  validateDimensions() {
  if (this.isMobile) {
    // Recalculer slideWidth si n√©cessaire
    const calculatedWidth = window.innerWidth - 2 * (window.innerWidth * 0.095);
    if (Math.abs(this.slideWidth - calculatedWidth) > 5) {
      this.slideWidth = calculatedWidth;
      this.initWithRealFirstImage(); // Repositionner
    }
  }
}

  preloadHighResImage(highResSrc) {
    if (this.preloadedImages.has(highResSrc)) return Promise.resolve(highResSrc);
    
    return new Promise((resolve, reject) => {
      const img = new Image();
      img.onload = () => {
        this.preloadedImages.set(highResSrc, highResSrc);
        resolve(highResSrc);
      };
      img.onerror = reject;
      img.src = highResSrc;
    });
  }

  updateImageQuality() {
    this.slides.forEach((slide, index) => {
      const img = slide.querySelector('img');
      if (!img) return;
      
    this.slides.forEach((slide, index) => {
      slide.classList.remove('is-focus', 'is-prev', 'is-next');
      if (index === this.currentIndex) {
        slide.classList.add('is-focus');
      } else if (index === this.currentIndex - 1) {
        slide.classList.add('is-prev');
      } else if (index === this.currentIndex + 1) {
        slide.classList.add('is-next');
      }
    });

      const currentLowResSrc = img.getAttribute('src');
      
      if (index === this.currentIndex) {
        // Focus frame - charger la high-res
        const highResSrc = getHighResVersion(currentLowResSrc);
        if (highResSrc !== currentLowResSrc) {
          this.preloadHighResImage(highResSrc).then(() => {
            if (index === this.currentIndex) { // V√©rifier qu'on est toujours en focus
              img.src = highResSrc;
            }
          }).catch(() => {
            img.src = currentLowResSrc; // Fallback
          });
        }
      } else {
        // Previous/next frames - utiliser low-res du mapping ou garder l'original
        const lowResSrc = Object.keys(highResMapping).find(key => 
          getHighResVersion(key) === currentLowResSrc
        ) || currentLowResSrc;
        img.src = lowResSrc;
      }
    });
  }



  preloadAdjacentImages() {
  // Pr√©charger UNIQUEMENT la high-res de l'image suivante probable
  const nextIndex = this.currentIndex + 1;
  
  if (nextIndex >= 0 && nextIndex < this.slides.length) {
    const slide = this.slides[nextIndex];
    const img = slide.querySelector('img');
    if (img) {
      const lowResSrc = img.src;
      const highResSrc = getHighResVersion(lowResSrc);
      if (highResSrc !== lowResSrc && !this.preloadedImages.has(highResSrc)) {
        // Pr√©charger discr√®tement SANS changer le src
        this.preloadHighResImage(highResSrc).catch(() => {});
      }
    }
  }
}

  getVh(vh) {
    return window.innerHeight * (vh / 100);
  }

  initWithRealFirstImage() {
  this.currentIndex = 1; // Vraie premi√®re image
  
  if (this.isMobile) {
    // Mobile : positionnement horizontal
    const focusFrameLeft = window.innerWidth * 0.095;
    const gap = window.innerWidth * 0.04;
    const slideWithGap = this.slideWidth + gap;
    // Position initiale : on veut que la slide 1 soit dans focus-frame
    // Donc le track doit √™tre √† focusFrameLeft - (1 * slideWithGap)
    const targetPosition = focusFrameLeft - (this.currentIndex * slideWithGap);
    
    this.track.style.transform = `translateX(${targetPosition}px)`;
  } else {
    // Desktop : positionnement vertical
    const focusFrameOffset = this.getVh(16.667);
    const gap = this.getVh(4.63);
    const slideWithGap = this.slideHeight + gap;
    const targetPosition = focusFrameOffset - (this.currentIndex * slideWithGap);
    
    this.track.style.transform = `translateY(${targetPosition}px)`;
  }
  
  this.updateScrollIndicator();
  this.updateImageQuality();
  
  // Ajouter cette ligne
  setTimeout(() => this.preloadAdjacentImages(), 100);
}

isValidMove(direction, distance = 1) {
  const nextIndex = this.currentIndex + (direction * distance);
  // Permettre tous les mouvements dans la plage des indices (y compris les clones)
  const isValid = nextIndex >= 0 && nextIndex < this.totalSlides;
  // console.log(`Validating move: current=${this.currentIndex}, direction=${direction}, distance=${distance}, next=${nextIndex}, valid=${isValid}`);
  return isValid;
}

handleInfiniteLoop() {
  let needsReposition = false;
  
  if (this.currentIndex <= 0) {
    // On est sur le clone du d√©but (index 0) ‚Üí aller √† la vraie derni√®re image
    this.currentIndex = this.originalSlideCount; // Pas -1 car on compte √† partir de 1
    needsReposition = true;
    // console.log(`Jump to real last: ${this.currentIndex}`);
  } else if (this.currentIndex >= this.totalSlides - 1) {
    // On est sur le clone de fin ‚Üí aller √† la vraie premi√®re image
    this.currentIndex = 1;
    needsReposition = true;
    // console.log(`Jump to real first: ${this.currentIndex}`);
  }
  
  if (needsReposition) {
    // Attendre un frame avant de repositionner pour √©viter les conflits
    requestAnimationFrame(() => {
      this.repositionWithoutTransition();
    });
  }
}

  scrollToSlide(direction, distance = 1) {
  // console.log(`Mobile scroll: direction=${direction}, distance=${distance}, currentIndex=${this.currentIndex}`);
  
  if (this.isScrolling) {
    return;
  }
  
  // Validation du mouvement
  if (!this.isValidMove(direction * distance)) return;

  this.isScrolling = true;
  this.currentIndex += direction * distance;
  
  const focusFrameOffset = this.isMobile ? 
    window.innerWidth * 0.095 : 
    this.getVh(16.667);

  const gap = this.isMobile ? 
    window.innerWidth * 0.04 : 
    this.getVh(4.63);

  const slideWithGap = this.isMobile ? 
    (this.slideWidth + gap) : 
    (this.slideHeight + gap);
    
  const targetPosition = focusFrameOffset - (this.currentIndex * slideWithGap);

  this.track.style.transition = 'transform 0.6s ease';
  
  this.track.style.transform = this.isMobile ?
    `translateX(${targetPosition}px)` :
    `translateY(${targetPosition}px)`;

  setTimeout(() => {
  this.updateScrollIndicator();
  
  // G√©rer la boucle infinie AVANT de mettre √† jour les images
  this.handleInfiniteLoop();
  
  // Puis mettre √† jour les qualit√©s d'image avec les bons indices
  this.updateImageQuality();
  
  // Pr√©charger la prochaine image probable
  this.preloadAdjacentImages();
  
  this.isScrolling = false;
}, 620);
}

  repositionWithoutTransition() {
  const focusFrameOffset = this.isMobile ? 
    window.innerWidth * 0.095 : 
    this.getVh(16.667);

  const gap = this.isMobile ? 
    window.innerWidth * 0.04 : 
    this.getVh(4.63);

  const slideWithGap = this.isMobile ? 
    (this.slideWidth + gap) : 
    (this.slideHeight + gap);
    
  const targetPosition = focusFrameOffset - (this.currentIndex * slideWithGap);
  
  // console.log(`Reposition without transition: index=${this.currentIndex}, position=${targetPosition}`);
  
  this.track.style.transition = 'none';
  
  if (this.isMobile) {
    this.track.style.transform = `translateX(${targetPosition}px)`;
  } else {
    this.track.style.transform = `translateY(${targetPosition}px)`;
  }
  
  // Force le reflow pour appliquer imm√©diatement
  this.track.offsetHeight;
  
  // R√©activer les transitions apr√®s un d√©lai
  setTimeout(() => {
    this.track.style.transition = 'transform 0.6s ease';
  }, 50);
}

  updateScrollIndicator() {
    const indicator = this.track.closest('.carrousel-container').querySelector('.scroll-indicator');
    if (!indicator) return;

    // Utiliser currentIndex - 1 pour exclure le clone du d√©but
    const realIndex = this.currentIndex - 1;
    const progress = (realIndex / (this.originalSlideCount - 1)) * (100 - 20);
    indicator.style.setProperty('--scroll-progress', `${progress}px`);
  }

  bindEvents() {
    const scrollZone = this.track.closest('.carrousel-container').querySelector('.scroll-capture');

    let startPos = 0;
    let scrollPos = 0;

    // Variables pour d√©tecter le type d'input
    let wheelTimeout = null;
    let wheelCount = 0;
    let totalDelta = 0;
    let isTrackpad = false;

    scrollZone.addEventListener('wheel', (e) => {
  e.preventDefault();
  
  wheelCount++;
  
  // Correction de la d√©tection de direction pour mobile
  let deltaValue;
  if (this.isMobile) {
    // En mobile, on veut d√©tecter le scroll horizontal (trackpad) ou vertical (doigt simul√©)
    deltaValue = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;
  } else {
    deltaValue = e.deltaY;
  }
  
  totalDelta += Math.abs(deltaValue);
  const direction = deltaValue > 0 ? 1 : -1;
  
  // D√©tection trackpad vs souris
  if (Math.abs(deltaValue) < 50) {
    isTrackpad = true;
  } else if (Math.abs(deltaValue) > 100) {
    isTrackpad = false;
  }
  
  if (wheelTimeout) {
    clearTimeout(wheelTimeout);
  }
  
  wheelTimeout = setTimeout(() => {
  if (this.isScrolling) return;
  
  let distance = 1; // Par d√©faut
  
  if (this.isMobile) {
    // Logique d'intensit√© pour mobile
    if (isTrackpad) {
      // Trackpad sur mobile (rare mais possible)
      if (totalDelta < 200) distance = 1;
      else if (totalDelta < 600) distance = 2;
      else distance = 3;
    } else {
      // Scroll simul√© sur mobile (plus courant)
      if (totalDelta < 150) distance = 1;
      else if (totalDelta < 400) distance = 2;
      else distance = 3;
    }
  } else {
    // Logique desktop inchang√©e
    if (isTrackpad) {
      if (totalDelta < 300) distance = 1;
      else if (totalDelta < 800) distance = 1;
      else if (totalDelta < 1800) distance = 2;
      else distance = 3;
    } else {
      if (wheelCount === 1) distance = 1;
      else if (wheelCount <= 3) distance = 2;
      else distance = 3;
    }
  }
  
  this.scrollToSlide(direction, distance);
  wheelCount = 0;
  totalDelta = 0;
}, this.isMobile ? 80 : (isTrackpad ? 150 : 80)); // Timeout plus rapide sur mobile
}, { passive: false });

    // Variables pour touch
let touchStartTime = 0;
let touchVelocity = 0;

// Mobile touch events avec gestion d'intensit√©
scrollZone.addEventListener('touchstart', (e) => {
  startPos = this.isMobile ? 
    e.touches[0].clientX : 
    e.touches[0].clientY;
  scrollPos = 0;
  touchStartTime = Date.now();
}, { passive: true });

scrollZone.addEventListener('touchmove', (e) => {
  e.preventDefault();
  const currentPos = this.isMobile ? 
    e.touches[0].clientX : 
    e.touches[0].clientY;
  scrollPos = currentPos - startPos;
}, { passive: false });

scrollZone.addEventListener('touchend', () => {
  if (Math.abs(scrollPos) > this.scrollThreshold) {
    const direction = scrollPos > 0 ? -1 : 1;
    const touchDuration = Date.now() - touchStartTime;
    touchVelocity = Math.abs(scrollPos) / touchDuration;
    
    // Calcul de distance bas√© sur la v√©locit√© et la distance
    let distance = 1;
    
    if (this.isMobile) {
      // Logique sp√©cifique mobile
      const swipeDistance = Math.abs(scrollPos);
      
      if (touchVelocity > 1.5) {
        // Swipe rapide
        if (swipeDistance > 200) distance = 3;
        else if (swipeDistance > 100) distance = 2;
        else distance = 1;
      } else if (touchVelocity > 0.8) {
        // Swipe moyen
        if (swipeDistance > 150) distance = 2;
        else distance = 1;
      } else {
        // Swipe lent
        if (swipeDistance > 300) distance = 2;
        else distance = 1;
      }
    } else {
      // Logique desktop (inchang√©e)
      distance = Math.abs(scrollPos) > 200 ? 2 : 1;
    }
    
    this.scrollToSlide(direction, distance);
  }
}, { passive: true });
  }
}

// Lancer tous les carrousels au DOM pr√™t
document.addEventListener('DOMContentLoaded', () => {

  const tracks = document.querySelectorAll('.carrousel-track');
  tracks.forEach(track => {
    const carousel = new VerticalCarousel(track);
    track.carousel = carousel; // Stocker la r√©f√©rence
  });

  // Injecte style pour .scroll-indicator::after
  const style = document.createElement('style');
  style.textContent = `
    .scroll-indicator::after {
      top: var(--scroll-progress, 0px);
    }
  `;
  document.head.appendChild(style);
});

</script>


</html>